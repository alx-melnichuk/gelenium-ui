<section mr-vr>
  <h4 class="app-hover-link">
    Feature
    <a [href]="urlCmTooltip + '#Feature'">#</a>
  </h4>
  <p>
    Sometimes there are situations where we don't know if an element will fit entirely within its
    parent's bounds.
    This may be when internationalization is used, i.e. different translations of the value are
    substituted.
    Or when the value does not fit into the specified table column width.
    In these cases, we should only display the tooltip when the element goes beyond its parent.
    <br />
    To do this, you can use the glnOverflowChild directive.
    <br />
    The directive's getChildHasOverflow() method determines the first child element and checks
    if it overflows its parent.
    And if it goes beyond the boundaries of the parent element, then we can enable the display of a
    tooltip.
  </p>
  <span> For example:</span>
  <code><pre source="html">
&lt;button class="ttbs-btn"
  style="max-width: 75px; white-space: nowrap; overflow: hidden;"
  <i><strong>glnTooltip</strong></i>="Action demo"
  <i><strong>[glnttDisabled]</strong></i>="<strong>!overflowChild1.getChildHasOverflow()</strong>"
  <strong>glnOverflowChild</strong>
  <strong>#overflowChild1="glnOverflowChild"</strong>&gt;
  &lt;span&gt;Action demo&lt;/span&gt;
&lt;/button&gt;</pre></code>
</section>


<div class="app-group">

  <div class="app-elem">
    <div>
      <small>
        <em>Show the tooltip only if the element is out of bounds.</em>
      </small>
    </div>
    <div>
      <button class="ttft-btn"
        style="max-width: 106px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
        glnTooltip="Action demo"
        [glnttDisabled]="!overflowChildZ0.getChildHasOverflow()"
        glnOverflowChild
        #overflowChildZ0="glnOverflowChild">
        <span>Action demo</span>
      </button>
    </div>
  </div>

  <div class="app-elem">
    <div>
      <small>
        <em>Show the tooltip only if the element is out of bounds.</em>
      </small>
    </div>
    <table class="ttft-table">
      <thead>
        <tr>
          <th>fruits</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td glnTooltip="mango"
            [glnttDisabled]="!overflowChildZ1.getChildHasOverflow()"
            glnOverflowChild
            #overflowChildZ1="glnOverflowChild">
            <span>mango</span>
          </td>
        </tr>
        <tr>
          <td glnTooltip="gorgeous orange"
            [glnttDisabled]="!overflowChildZ2.getChildHasOverflow()"
            glnOverflowChild
            #overflowChildZ2="glnOverflowChild">
            <span>gorgeous orange</span>
          </td>
        </tr>
        <tr>
          <td glnTooltip="succulent watermelon"
            [glnttDisabled]="!overflowChildZ3.getChildHasOverflow()"
            glnOverflowChild
            #overflowChildZ3="glnOverflowChild">
            <span>succulent watermelon</span>
          </td>
        </tr>
      </tbody>
    </table>

  </div>

</div>

<section mr-vr>
  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>{{ labelShowSource }}</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-tab-group animationDuration="0ms">
        <mat-tab [label]="labelHtml">
          <code><pre source="html">
&lt;div class="app-group"&gt;

  &lt;div class="app-elem"&gt;
    &lt;div&gt;
      &lt;small&gt;
        &lt;em&gt;Show the tooltip only if the element is out of bounds.&lt;/em&gt;
      &lt;/small&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;button class="ttft-btn"
        style="max-width: 106px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
        glnTooltip="Action demo"
        [glnttDisabled]="!overflowChildZ0.getChildHasOverflow()"
        glnOverflowChild
        #overflowChildZ0="glnOverflowChild"&gt;
        &lt;span&gt;Action demo&lt;/span&gt;
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class="app-elem"&gt;
    &lt;div&gt;
      &lt;small&gt;
        &lt;em&gt;Show the tooltip only if the element is out of bounds.&lt;/em&gt;
      &lt;/small&gt;
    &lt;/div&gt;
    &lt;table class="ttft-table"&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt;fruits&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td glnTooltip="mango"
            [glnttDisabled]="!overflowChildZ1.getChildHasOverflow()"
            glnOverflowChild
            #overflowChildZ1="glnOverflowChild"&gt;
            &lt;span&gt;mango&lt;/span&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td glnTooltip="gorgeous orange"
            [glnttDisabled]="!overflowChildZ2.getChildHasOverflow()"
            glnOverflowChild
            #overflowChildZ2="glnOverflowChild"&gt;
            &lt;span&gt;gorgeous orange&lt;/span&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td glnTooltip="succulent watermelon"
            [glnttDisabled]="!overflowChildZ3.getChildHasOverflow()"
            glnOverflowChild
            #overflowChildZ3="glnOverflowChild"&gt;
            &lt;span&gt;succulent watermelon&lt;/span&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;

  &lt;/div&gt;

&lt;/div&gt;</pre></code>
        </mat-tab>
        <mat-tab [label]="labelTs">
          <code><pre source="ts">
import &#123;
  Component, ViewEncapsulation
&#125; from '@angular/core';

@Component(&#123;
  selector: 'app-tooltip',
  templateUrl: './tooltip.component.html',
  styleUrls: ['./tooltip.component.scss'],
  encapsulation: ViewEncapsulation.None,
&#125;)
export class TooltipComponent &#123;
&#125;</pre></code>
        </mat-tab>
        <mat-tab [label]="labelCss">
          <code><pre source="css">
app-tooltip &#123;
  .app-group &#123;
    display: flex;
    flex-wrap: wrap;
  &#125;
  .app-elem &#123;
    min-width: 26ch;
    margin: 10px 10px;
  &#125;
  .ttft-btn &#123;
    border-radius: 4px;
    border-width: 0;
    font-size: 0.875em;
    height: 38px;
    min-width: 64px;
    padding: 0 16px;
  &#125;
  table.ttft-table &#123;
    border-collapse: collapse;
    th &#123;
      font-weight: 500;
    &#125;
    th, td &#123;
      border: 1px solid black;
      max-width: 140px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      padding: 2px 7px;
    &#125;
  &#125;
&#125;</pre></code>
        </mat-tab>
      </mat-tab-group>
    </mat-expansion-panel>
  </mat-accordion>
</section>

<hr br-nn />

<section>
  <p>
    In the case when, after displaying the tooltip, there is a scroll on the parent element,
    then the tooltip closes (and without animation).
    Moreover, the tooltip closes when the scroll event occurs on any of the parent elements.
  </p>
</section>

<div style="height: 100px; overflow: auto;">

  <div class="app-group"
    style="height: 170px;">

    <div class="app-elem">
      <div>
        <small>
          <em>Show tooltip on hover.</em>
        </small>
      </div>
      <div>
        <button class="ttft-btn"
          glnTooltip="Information demo">
          Action
        </button>
      </div>
    </div>

    <div class="app-elem">
      <div>
        <small>
          <em>Show tooltip only on click.</em>
        </small>
      </div>
      <div>
        <button class="ttft-btn"
          glnTooltip="Information demo"
          glnttNoHoverable
          glnttNoTouchable
          #tooltip07a="glnTooltip"
          (click)="tooltip07a.toggle()">
          Action2
        </button>
      </div>
    </div>

  </div>

</div>


<section mr-vr>
  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>{{ labelShowSource }}</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-tab-group animationDuration="0ms">
        <mat-tab [label]="labelHtml">
          <code><pre source="html">
&lt;div style="height: 100px; overflow: auto;"&gt;

  &lt;div class="app-group"
    style="height: 170px;"&gt;

    &lt;div class="app-elem"&gt;
      &lt;div&gt;
        &lt;small&gt;
          &lt;em&gt;Show tooltip on hover.&lt;/em&gt;
        &lt;/small&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;button class="ttft-btn"
          glnTooltip="Information demo"&gt;
          Action
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="app-elem"&gt;
      &lt;div&gt;
        &lt;small&gt;
          &lt;em&gt;Show tooltip only on click.&lt;/em&gt;
        &lt;/small&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;button class="ttft-btn"
          glnTooltip="Information demo"
          glnttNoHoverable
          glnttNoTouchable
          #tooltip07a="glnTooltip"
          (click)="tooltip07a.toggle()"&gt;
          Action2
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;

  &lt;/div&gt;

&lt;/div&gt;</pre></code>
        </mat-tab>
        <mat-tab [label]="labelTs">
          <code><pre source="ts">
import &#123;
  Component, ViewEncapsulation
&#125; from '@angular/core';

@Component(&#123;
  selector: 'app-tooltip',
  templateUrl: './tooltip.component.html',
  styleUrls: ['./tooltip.component.scss'],
  encapsulation: ViewEncapsulation.None,
&#125;)
export class TooltipComponent &#123;
&#125;</pre></code>
        </mat-tab>
        <mat-tab [label]="labelCss">
          <code><pre source="css">
app-tooltip &#123;
  .app-group &#123;
    display: flex;
    flex-wrap: wrap;
  &#125;
  .app-elem &#123;
    min-width: 26ch;
    margin: 10px 10px;
  &#125;
  .ttft-btn &#123;
    border-radius: 4px;
    border-width: 0;
    font-size: 0.875em;
    height: 38px;
    min-width: 64px;
    padding: 0 16px;
  &#125;
&#125;</pre></code>
        </mat-tab>
      </mat-tab-group>
    </mat-expansion-panel>
  </mat-accordion>
</section>

<hr br-nn />