/*# sourceURL=gln-tooltip.component.scss */

gln-tooltip-cmp {
  --glntt--default-bg-h: var(--glncl-default-bg-h, var(--gln-default-bg-h));
  --glntt--default-bg-s: var(--glncl-default-bg-s, var(--gln-default-bg-s));
  --glntt--default-bg-l: var(--glncl-default-bg-l, var(--gln-default-bg-l));

  --glntt--default-h: var(--glncl-default-h, var(--gln-default-h));
  --glntt--default-s: var(--glncl-default-s, var(--gln-default-s));
  --glntt--default-l: var(--glncl-default-l, var(--gln-default-l));

  --glntt---color: var(--glntt-color, hsl(var(--glntt--default-bg-h), var(--glntt--default-bg-s), var(--glntt--default-bg-l)));
  --glntt---bg-color: var(--glntt-bg-color, hsl(var(--glntt--default-h), var(--glntt--default-s), calc(var(--glntt--default-l) + 20%)));

  --glntt---panel-indent: var(--glntt-panel-indent, 0.875em); // 16px * 0.875 = 14px;

  border-radius: 4px;
  background-color: var(--glntt---bg-color);
  color: var(--glntt---color);
  font-size: var(--glntt-font-size, 12px);
  font-weight: 500;
  padding-left: 0.5em;
  padding-right: 0.5em;
  padding-top: 0.25em;
  padding-bottom: 0.25em;
  position: relative;
  overflow-wrap: break-word;
  text-overflow: ellipsis;

  &:not([noAnm]) {
    opacity: 0;
    &[is-show]:not([is-hide]) {
      animation: kf-tt-show 180ms cubic-bezier(0.2, 0, 0.2, 1) 0ms;
      opacity: 1;
    }
    &:not([is-show])[is-hide] {
      animation: kf-tt-hide 180ms linear 0ms;
      opacity: 0;
    }

    &[noTrn] {
      --glntt---no-translate: none;
    }
    &[pos='bottom'] {
      --glntt---trnsl-y: -60%;
    }
    &[pos='top'] {
      --glntt---trnsl-y: 60%;
    }
    &[pos='left'] {
      --glntt---trnsl-x: 40%; 
    }
    &[pos='right'] {
      --glntt---trnsl-x: -40%;
    }
  
    @keyframes kf-tt-show {
      0% {
        opacity: 0;
        transform: var(--glntt---no-translate, (translate(var(--glntt---trnsl-x, 0px), var(--glntt---trnsl-y, 0px)) scale(0.3)));
      }
      100% {
        opacity: 1;
        transform: none;
      }
    }
  
    @keyframes kf-tt-hide {
      0% {
        opacity: 1;
        transform: none;
      }
      100% {
        opacity: 0;
        transform: var(--glntt---no-translate, (translate(var(--glntt---trnsl-x, 0px), var(--glntt---trnsl-y, 0px)) scale(0.3)));
      }
    }
  }
  &[pos='bottom'] {
    margin-top: var(--glntt---panel-indent);
  }
  &[pos='top'] {
    margin-bottom: var(--glntt---panel-indent);
  }
  &[pos='left'] {
    margin-right: var(--glntt---panel-indent);
  }
  &[pos='right'] {
    margin-left: var(--glntt---panel-indent);
  }


  &>.gln-tooltip-arrow {
    box-sizing: border-box;
    color: var(--glntt---bg-color);
    overflow: hidden;
    position: absolute;
    
    &[pos='bottom'],
    &[pos='top'] {
      height: 0.65em; // 7.8px; height: 0.71em;
      width: 0.92em; // 11.03px; width: 1em;
      &[alg='center'] {
        left: calc(50% - 0.46em);
      }
      &[alg='start'] {
        left: min(calc(50% - 0.46em), 2em);
      }
      &[alg='end'] {
        right: min(calc(50% - 0.46em), 2em);
      }
    }

    &[pos='left'],
    &[pos='right'] {
      height: 0.92em;
      width: 0.65em;
      &[alg='center'] {
        top: calc(50% - 0.46em);
      }
      &[alg='start'] {
        top: calc(min(60%, var(--glnttr--own-hg-half, 1.16em)) - 0.46em);
      }
      &[alg='end'] {
        bottom: calc(min(60%, var(--glnttr--own-hg-half, 1.16em)) - 0.46em);
      }
    }

    &[pos='bottom'] {
      margin-top: -0.65em;
      top: 1px;
      --glnttr---trf-org: 0 100%;
    }
    &[pos='top'] {
      bottom: 1px;
      margin-bottom: -0.65em;
      --glnttr---trf-org: 100% 0;
    }
    &[pos='left'] {
      margin-right: -0.65em;
      right: 1px;
      --glnttr---trf-org: 0 0;
    }
    &[pos='right'] {
      left: 1px;
      margin-left: -0.65em;
      --glnttr---trf-org: 100% 100%;
    }
   
    &::before {
      background-color: currentColor;
      content: '';
      display: block;
      height: 100%;
      transform: rotate(45deg);
      transform-origin: var(--glnttr---trf-org);
      width: 100%;
    }
  }
}

.cdk-overlay-pane.gln-tooltip-panel {
  z-index: 1500;
}

.gln-tooltip-panel {
  outline: 1px dashed green; // # temp
}
