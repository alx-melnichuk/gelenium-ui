import { ChangeDetectionStrategy, Component, Inject, InjectionToken, Input, Optional, ViewEncapsulation, } from '@angular/core';
import { GlnFrameExterior, GlnFrameExteriorUtil } from './gln-frame-exterior.interface';
import { HtmlElemUtil } from '../_utils/html-elem.util';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export const GLN_FRAME_CONFIG = new InjectionToken('GLN_FRAME_CONFIG');
export class GlnFrameComponent {
    constructor(rootConfig, hostRef, renderer) {
        this.rootConfig = rootConfig;
        this.hostRef = hostRef;
        this.renderer = renderer;
        this.isFilled = false;
        this.currConfig = null;
        this.frameExterior = null;
        this.labelShrink = null;
        this.noAnimation = null;
        this.noLabel = null;
        this.currConfig = this.rootConfig;
        HtmlElemUtil.setClass(this.renderer, this.hostRef, 'gln-frame', true);
    }
    get isOutlinedExterior() {
        return GlnFrameExterior.outlined === this.exterior;
    }
    get isUnderlineExterior() {
        return GlnFrameExterior.underline === this.exterior;
    }
    get isStandardExterior() {
        return GlnFrameExterior.standard === this.exterior;
    }
    ngOnChanges(changes) {
        if (changes['config']) {
            this.currConfig = { ...this.rootConfig, ...this.config };
        }
        if (changes['exterior']) {
            this.frameExterior = GlnFrameExteriorUtil.convert(this.exterior || null);
            this.settingExterior(this.renderer, this.hostRef, this.frameExterior);
        }
        if (changes['isDisabled']) {
            HtmlElemUtil.setClass(this.renderer, this.hostRef, 'gln-disabled', !!this.isDisabled);
            HtmlElemUtil.setAttr(this.renderer, this.hostRef, 'dis', this.isDisabled ? '' : null);
        }
        if (changes['isError']) {
            HtmlElemUtil.setClass(this.renderer, this.hostRef, 'gln-error', !!this.isError);
            HtmlElemUtil.setAttr(this.renderer, this.hostRef, 'err', this.isError ? '' : null);
        }
        if (changes['isFilled']) {
            HtmlElemUtil.setClass(this.renderer, this.hostRef, 'glnfr-filled', this.isFilled);
            HtmlElemUtil.setAttr(this.renderer, this.hostRef, 'fil', this.isFilled ? '' : null);
        }
        if (changes['isLabelShrink'] || (changes['config'] && this.isLabelShrink == null)) {
            this.labelShrink = this.isLabelShrink != null ? this.isLabelShrink : !!this.currConfig?.isLabelShrink;
            this.settingLabelShrink(this.renderer, this.hostRef, this.labelShrink);
        }
        if (changes['isNoAnimation'] || (changes['config'] && this.isNoAnimation == null)) {
            this.noAnimation = this.isNoAnimation != null ? this.isNoAnimation : !!this.currConfig?.isNoAnimation;
            this.settingNoAnimation(this.renderer, this.hostRef, this.noAnimation);
        }
        if (changes['isNoLabel'] || (changes['config'] && this.isNoLabel == null)) {
            this.noLabel = this.isNoLabel != null ? this.isNoLabel : !!this.currConfig?.isNoLabel;
            this.settingNoLabel(this.renderer, this.hostRef, this.noLabel);
        }
        if (changes['label'] || changes['isRequired']) {
            const isIndent = !!this.label || this.isRequired;
            HtmlElemUtil.setClass(this.renderer, this.hostRef, 'glnfr-lgn-indent', !!isIndent);
            HtmlElemUtil.setAttr(this.renderer, this.hostRef, 'ind', isIndent ? '' : null);
        }
    }
    ngOnInit() {
        if (this.labelShrink == null) {
            this.labelShrink = this.isLabelShrink != null ? this.isLabelShrink : !!this.currConfig?.isLabelShrink;
            this.settingLabelShrink(this.renderer, this.hostRef, this.labelShrink);
        }
        if (this.noAnimation == null) {
            this.noAnimation = this.isNoAnimation != null ? this.isNoAnimation : !!this.currConfig?.isNoAnimation;
            this.settingNoAnimation(this.renderer, this.hostRef, this.noAnimation);
        }
        if (this.noLabel == null) {
            this.noLabel = this.isNoLabel != null ? this.isNoLabel : !!this.currConfig?.isNoLabel;
            this.settingNoLabel(this.renderer, this.hostRef, this.noLabel);
        }
    }
    // ** Public API **
    // ** Private API **
    settingExterior(renderer, elem, exterior) {
        HtmlElemUtil.setClass(renderer, elem, 'glnfr-outlined', GlnFrameExteriorUtil.isOutlined(exterior));
        HtmlElemUtil.setAttr(renderer, elem, 'ext-o', GlnFrameExteriorUtil.isOutlined(exterior) ? '' : null);
        HtmlElemUtil.setClass(renderer, elem, 'glnfr-underline', GlnFrameExteriorUtil.isUnderline(exterior));
        HtmlElemUtil.setAttr(renderer, elem, 'ext-u', GlnFrameExteriorUtil.isUnderline(exterior) ? '' : null);
        HtmlElemUtil.setClass(renderer, elem, 'glnfr-standard', GlnFrameExteriorUtil.isStandard(exterior));
        HtmlElemUtil.setAttr(renderer, elem, 'ext-s', GlnFrameExteriorUtil.isStandard(exterior) ? '' : null);
        const isBorder = GlnFrameExteriorUtil.isStandard(exterior) || GlnFrameExteriorUtil.isUnderline(exterior);
        HtmlElemUtil.setClass(renderer, elem, 'glnfr-bottom-frame', isBorder);
    }
    settingLabelShrink(renderer, elem, isLabelShrink) {
        HtmlElemUtil.setClass(renderer, elem, 'glnfr-shrink', isLabelShrink);
        HtmlElemUtil.setAttr(renderer, elem, 'shr', isLabelShrink ? '' : null);
    }
    settingNoAnimation(renderer, elem, isNoAnimation) {
        HtmlElemUtil.setClass(renderer, elem, 'gln-no-animation', isNoAnimation);
        HtmlElemUtil.setAttr(renderer, elem, 'noAnm', isNoAnimation ? '' : null);
    }
    settingNoLabel(renderer, elem, noLabel) {
        HtmlElemUtil.setClass(renderer, elem, 'glnfr-no-label', noLabel);
        HtmlElemUtil.setAttr(renderer, elem, 'no-lb', noLabel ? '' : null);
    }
}
GlnFrameComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.1.2", ngImport: i0, type: GlnFrameComponent, deps: [{ token: GLN_FRAME_CONFIG, optional: true }, { token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component });
GlnFrameComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.1.2", type: GlnFrameComponent, selector: "gln-frame", inputs: { config: "config", exterior: "exterior", isDisabled: "isDisabled", isError: "isError", isFilled: "isFilled", isLabelShrink: "isLabelShrink", isNoAnimation: "isNoAnimation", isNoLabel: "isNoLabel", isRequired: "isRequired", label: "label" }, exportAs: ["glnFrame"], usesOnChanges: true, ngImport: i0, template: "<label *ngIf=\"!noLabel\"\n  class=\"glnfr-label\">\n  <span lbl>{{ label }}</span><span *ngIf=\"isRequired\">{{ (!!label ? '&nbsp;' : '') + '*' }}\n  </span>\n</label>\n<div class=\"glnfr-border\"\n  [attr.dcr-bg]=\"isUnderlineExterior ? '' : null\"\n  [attr.dcr-bb]=\"isUnderlineExterior || isStandardExterior? '': null\"\n  decor-brb>\n  <ng-content></ng-content>\n  <fieldset *ngIf=\"isOutlinedExterior\"\n    dcr-br\n    class=\"glnfr-fieldset\"\n    aria-hidden=\"true\">\n    <legend *ngIf=\"!noLabel\"\n      class=\"glnfr-legend\">\n      <span lgn>{{ label }}</span><span *ngIf=\"isRequired\">{{ (!!label ? '&nbsp;' : '') + '*' }}\n      </span>\n    </legend>\n  </fieldset>\n</div>", styles: ["@charset \"UTF-8\";gln-frame{--glnfr--default-h: var(--glncl-default-h, var(--gln-default-h));--glnfr--default-s: var(--glncl-default-s, var(--gln-default-s));--glnfr--primary-h: var(--glncl-primary-h, var(--gln-primary-h));--glnfr--primary-s: var(--glncl-primary-s, var(--gln-primary-s));--glnfr--danger-h: var(--glncl-danger-h, var(--gln-danger-h));--glnfr--danger-s: var(--glncl-danger-s, var(--gln-danger-s));background-color:transparent;border:0;display:flex;line-height:1.4375em;margin:0;min-width:0;padding:0;position:relative;vertical-align:top;--def-o-lgn-pd: .3em;border-radius:var(--glnfr-br-rd, var(--glnfrs-br-rd, var(--def-br-rd)));--glnfr--lb-cl-def: hsl(var(--glnfr---def-h), var(--glnfr---def-s), 40%);--glnfr--br-cl-def: hsl(var(--glnfr---def-h), var(--glnfr---def-s), 45%);--glnfr--bg-cl-def: hsl(var(--glnfr---def-h), var(--glnfr---def-s), 97%);--glnfr--bf-cl-def: hsl(var(--glnfr---def-h), var(--glnfr---def-s), 45%);--glnfr--lb-cl-hov: hsl(var(--glnfr---hov-h), var(--glnfr---hov-s), 35%);--glnfr--br-cl-hov: hsl(var(--glnfr---hov-h), var(--glnfr---hov-s), 40%);--glnfr--bg-cl-hov: hsl(var(--glnfr---hov-h), var(--glnfr---hov-s), 93%);--glnfr--bf-cl-hov: hsl(var(--glnfr---hov-h), var(--glnfr---hov-s), 40%);--glnfr--lb-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 45%);--glnfr--br-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 50%);--glnfr--bg-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 95%);--glnfr--bf-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 40%);--glnfr--af-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 50%);--glnfr--lb-cl-dis: hsl(var(--glnfr---dis-h), var(--glnfr---dis-s), 50%);--glnfr--br-cl-dis: hsl(var(--glnfr---dis-h), var(--glnfr---dis-s), 60%);--glnfr--bg-cl-dis: hsl(var(--glnfr---dis-h), var(--glnfr---dis-s), 92%);--glnfr--bf-cl-dis: hsl(var(--glnfr---dis-h), var(--glnfr---dis-s), 60%);--glnfr-dcr-bb-aft-wd: 2px;--glnfr-dcr-bb-bef-wd: 2px;--glnfr-hov-dcr-br-wd: 2px;--glnfr-foc-dcr-br-wd: 2px}gln-frame[ext-o]{--def-br-rd: .35em;--def-lb-pd-tp: 1.03125em;--def-lb-pd-bt: 1.03125em;--def-lb-pd-lf: .875em;--def-lb-pd-rg: .875em;--def-lb-mx-wd: 2.905em;--def-lb-trn-y: -.53875em;--def-lb-trn2-y: 1.03125em}gln-frame[ext-u]{--def-br-rd: .35em .35em 0px 0px;--def-lb-pd-tp: 1.546875em;--def-lb-pd-bt: .515625em;--def-lb-pd-lf: .75em;--def-lb-pd-rg: .75em;--def-lb-mx-wd: 2.49em;--def-lb-trn-y: .379375em;--def-lb-trn2-y: 1.03125em}gln-frame[ext-s]{--def-lb-pd-tp: 1.546875em;--def-lb-pd-bt: .515625em;--def-lb-pd-lf: 0;--def-lb-pd-rg: 0;--def-lb-mx-wd: 0;--def-lb-trn-y: .32em;--def-lb-trn2-y: 1.546875em}gln-frame:not([noAnm]){--glnfr-trn-drt-200: .2s;--glnfr-trn-drt-100: .1s;--glnfr-trn-drt-50: 50ms}gln-frame label{display:flex;left:0;overflow:hidden;padding:0;pointer-events:none;position:absolute;-webkit-user-select:none;user-select:none;text-overflow:ellipsis;-webkit-text-size-adjust:100%;text-size-adjust:100%;top:0;transform-origin:top left;transition:color var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms,transform var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms,max-width var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms;white-space:nowrap;z-index:1}gln-frame label>span[lbl]{overflow:hidden;text-overflow:ellipsis}gln-frame[shr] label,gln-frame:focus-within label,gln-frame[foc] label,gln-frame[fil] label{max-width:calc(133% - var(--glnfr-lb-pd-shr, var(--glnfre-pd-shr, var(--def-lb-mx-wd))));transform:translate(var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf))),var(--glnfr-lb-trn-y, var(--glnfre-trn-y, var(--def-lb-trn-y)))) scale(.75);pointer-events:auto}gln-frame:not([shr]):not(:focus-within):not([foc]):not([fil]) label{max-width:calc(100% - var(--glnfro-pd-lf, var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf)))) - var(--glnfro-pd-rg, var(--glnfr-lb-pd-rg, var(--glnfrs-pd-rg, var(--def-lb-pd-rg)))));transform:translate(var(--glnfro-pd-lf, var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf)))),var(--glnfr-lb-trn2-y, var(--glnfre-trn2-y, var(--def-lb-trn2-y)))) scale(1)}gln-frame:not([dis]):not([err]){--glnfr---def-h: var(--glnfr--primary-h);--glnfr---def-s: var(--glnfr--primary-s);--glnfr---hov-h: var(--glnfr--primary-h);--glnfr---hov-s: var(--glnfr--primary-s);--glnfr---foc-h: var(--glnfr--primary-h);--glnfr---foc-s: var(--glnfr--primary-s)}gln-frame:not([dis])[err]{--glnfr---def-h: var(--glnfr--danger-h);--glnfr---def-s: var(--glnfr--danger-s);--glnfr---hov-h: var(--glnfr--danger-h);--glnfr---hov-s: var(--glnfr--danger-s);--glnfr---foc-h: var(--glnfr--danger-h);--glnfr---foc-s: var(--glnfr--danger-s)}gln-frame[dis]{--glnfr---dis-h: var(--glnfr--default-h);--glnfr---dis-s: var(--glnfr--default-s)}gln-frame:not([dis]){--glnfr--dcr-bb-aft-cl: var(--glnfr-foc-af-cl, var(--glnfr--af-cl-foc))}gln-frame:not([dis]):not(:hover):not(:focus-within):not([foc]){--glnfr--label-cl: var(--glnfr-def-lb-cl, var(--glnfr--lb-cl-def));--glnfr--dcr-br-cl: var(--glnfr-def-br-cl, var(--glnfr--br-cl-def));--glnfr--dcr-bg-cl: var(--glnfr-def-bg-cl, var(--glnfr--bg-cl-def));--glnfr--dcr-bb-bef-cl: var(--glnfr-def-bf-cl, var(--glnfr--bf-cl-def))}gln-frame:not([dis]):hover:not(:focus-within):not([foc]){--glnfr--label-cl: var(--glnfr-hov-lb-cl, var(--glnfr--lb-cl-hov));--glnfr--dcr-br-cl: var(--glnfr-hov-br-cl, var(--glnfr--br-cl-hov));--glnfr--dcr-bg-cl: var(--glnfr-hov-bg-cl, var(--glnfr--bg-cl-hov));--glnfr--dcr-bb-bef-cl: var(--glnfr-hov-bf-cl, var(--glnfr--bf-cl-hov))}gln-frame:not([dis]):focus-within,gln-frame:not([dis])[foc]{--glnfr--label-cl: var(--glnfr-foc-lb-cl, var(--glnfr--lb-cl-foc));--glnfr--dcr-br-cl: var(--glnfr-foc-br-cl, var(--glnfr--br-cl-foc));--glnfr--dcr-bg-cl: var(--glnfr-foc-bg-cl, var(--glnfr--bg-cl-foc));--glnfr--dcr-bb-bef-cl: var(--glnfr-foc-bf-cl, var(--glnfr--bf-cl-foc))}gln-frame[dis]{--glnfr--label-cl: var(--glnfr-dis-lb-cl, var(--glnfr--lb-cl-dis));--glnfr--dcr-br-cl: var(--glnfr-dis-br-cl, var(--glnfr--br-cl-dis));--glnfr--dcr-bg-cl: var(--glnfr-dis-bg-cl, var(--glnfr--bg-cl-dis));--glnfr--dcr-bb-bef-cl: var(--glnfr-dis-bf-cl, var(--glnfr--bf-cl-dis))}gln-frame>label{color:var(--glnfr--label-cl)}gln-frame>div{align-items:center;box-sizing:border-box;border-radius:inherit;display:flex;flex-wrap:nowrap;width:100%}gln-frame>div>[glnfr-elem]{flex-grow:1}gln-frame>div>[glnfr-orn-lf],gln-frame>div>[glnfr-orn-rg]{flex-shrink:0}gln-frame[dis]>div{color:var(--glnfr--label-cl)}gln-frame>[dcr-bg]{transition:background-color var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms;background-color:var(--glnfr--dcr-bg-cl)}gln-frame>[dcr-bb]:before{border-bottom-color:var(--glnfr--dcr-bb-bef-cl);border-bottom-width:1px;border-bottom-style:solid;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;left:0;bottom:0;content:\"\\a0\";position:absolute;right:0;transition:border-bottom-color var(--glnfr-trn-drt-200, 0ms) cubic-bezier(.4,0,.2,1) 0ms;pointer-events:none}gln-frame>[dcr-bb]:after{border-bottom-color:var(--glnfr--dcr-bb-aft-cl);border-bottom-width:var(--glnfr-dcr-bb-aft-wd, 1px);border-bottom-style:solid;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;left:0;bottom:0;content:\"\";position:absolute;right:0;transform:scaleX(0);transition:transform var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms;pointer-events:none}gln-frame[dis]>div[dcr-bb]:before{border-bottom-style:dotted}gln-frame[ext-s]:not([dis]):hover:not(:focus-within):not([foc])>div[dcr-bb]:before{border-bottom-width:var(--glnfr-dcr-bb-bef-wd, 1px)}gln-frame:not([dis]):focus-within>div[dcr-bb]:after,gln-frame:not([dis])[foc]>div[dcr-bb]:after{transform:scale(1) translate(0)}gln-frame fieldset{text-align:left;position:absolute;bottom:0;right:0;top:0;left:0;margin:0;padding-bottom:0;padding-left:calc(var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf))) - var(--glnfr-o-lgn-pd, var(--def-o-lgn-pd)) - var(--glnfr--pg-lf-delta, 0px));padding-right:calc(var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf))) - var(--glnfr-o-lgn-pd, var(--def-o-lgn-pd)));padding-top:0;pointer-events:none;border-radius:inherit;border-width:1px;border-style:solid;overflow:hidden;min-width:0%;box-sizing:inherit}gln-frame:not([dis]):hover:not(:focus-within):not([foc]) fieldset{border-width:var(--glnfr-hov-dcr-br-wd, 1px);--glnfr--pg-lf-delta: calc(var(--glnfr-hov-dcr-br-wd, 1px) - 1px)}gln-frame:not([dis]):focus-within fieldset,gln-frame:not([dis])[foc] fieldset{border-width:var(--glnfr-foc-dcr-br-wd, 1px);--glnfr--pg-lf-delta: calc(var(--glnfr-foc-dcr-br-wd, 1px) - 1px)}gln-frame [dcr-br]{border-color:var(--glnfr--dcr-br-cl)}gln-frame legend{box-sizing:border-box;display:flex;height:1px;padding:0;visibility:hidden;white-space:nowrap;width:auto}gln-frame legend>span{height:inherit;font-size:.75em}gln-frame legend>span[lgn]{overflow:hidden;text-overflow:ellipsis}gln-frame[shr] legend,gln-frame:focus-within legend,gln-frame[foc] legend,gln-frame[fil] legend{max-width:100%;transition:max-width var(--glnfr-trn-drt-100, 0ms) cubic-bezier(0,0,.2,1) var(--glnfr-trn-drt-50, 0ms)}gln-frame[shr][ind] legend,gln-frame:focus-within[ind] legend,gln-frame[foc][ind] legend,gln-frame[fil][ind] legend{padding:0 calc(var(--glnfr-o-lgn-pd, var(--def-o-lgn-pd)) - 1px)}gln-frame:not([shr]):not([fil]):not(:focus-within):not([foc]) legend{max-width:.01px;transition:max-width var(--glnfr-trn-drt-50, 0ms) cubic-bezier(0,0,.2,1) 0ms}gln-frame>div>[glnfr-pd-ver],gln-frame>div>[glnfr-mr-ver]{line-height:inherit;align-self:baseline}gln-frame>div>[glnfr-pd-ver]{padding-top:var(--glnfr-lb-pd-tp, var(--glnfrs-pd-tp, var(--def-lb-pd-tp)));padding-bottom:var(--glnfr-lb-pd-bt, var(--glnfrs-pd-bt, var(--def-lb-pd-bt)))}gln-frame>div>[glnfr-mr-ver]{margin-top:var(--glnfr-lb-pd-tp, var(--glnfrs-pd-tp, var(--def-lb-pd-tp)));margin-bottom:var(--glnfr-lb-pd-bt, var(--glnfrs-pd-bt, var(--def-lb-pd-bt)))}gln-frame>div>span[glnfr-orn-lf],gln-frame>div>span[glnfr-orn-rg]{max-height:inherit;display:inline-flex;align-items:center}gln-frame>div>span[glnfr-orn-rg]{order:1}gln-frame>div>span[glnfr-orn-lf]:empty~[glnfr-pd-hor]{padding-left:var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf)))}gln-frame>div>span[glnfr-orn-rg]:empty~[glnfr-pd-hor]{padding-right:var(--glnfr-lb-pd-rg, var(--glnfrs-pd-rg, var(--def-lb-pd-rg)))}gln-frame span[glnfr-orn-lf=center],gln-frame span[glnfr-orn-rg=center]{align-self:center}gln-frame span[glnfr-orn-lf=flex-start],gln-frame span[glnfr-orn-rg=flex-start]{align-self:flex-start}gln-frame span[glnfr-orn-lf=flex-end],gln-frame span[glnfr-orn-rg=flex-end]{align-self:flex-end}gln-frame span[glnfr-orn-lf=baseline],gln-frame span[glnfr-orn-rg=baseline]{align-self:baseline}gln-frame span[glnfr-orn-lf=stretch],gln-frame span[glnfr-orn-rg=stretch]{align-self:stretch}gln-frame[ext-o]>div>span[glnfr-orn-lf=default],gln-frame[ext-o]>div>span[glnfr-orn-rg=default]{align-self:center}gln-frame[ext-u]>div>span[glnfr-orn-lf=default]{align-self:baseline}gln-frame[ext-u]>div>span[glnfr-orn-rg=default]{align-self:center}gln-frame[ext-s]>div>span[glnfr-orn-lf=default],gln-frame[ext-s]>div>span[glnfr-orn-rg=default]{align-self:baseline}gln-frame[ext-u]>div>span[glnfr-orn-lf]>.glnfr-ornam,gln-frame[ext-s]>div>span[glnfr-orn-lf]>.glnfr-ornam,gln-frame[ext-s]>div>span[glnfr-orn-rg]>.glnfr-ornam{display:inline-block;margin-bottom:var(--glnfr-lb-pd-bt, var(--glnfrs-pd-bt, var(--def-lb-pd-bt)))}\n"], dependencies: [{ kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.1.2", ngImport: i0, type: GlnFrameComponent, decorators: [{
            type: Component,
            args: [{ selector: 'gln-frame', exportAs: 'glnFrame', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: "<label *ngIf=\"!noLabel\"\n  class=\"glnfr-label\">\n  <span lbl>{{ label }}</span><span *ngIf=\"isRequired\">{{ (!!label ? '&nbsp;' : '') + '*' }}\n  </span>\n</label>\n<div class=\"glnfr-border\"\n  [attr.dcr-bg]=\"isUnderlineExterior ? '' : null\"\n  [attr.dcr-bb]=\"isUnderlineExterior || isStandardExterior? '': null\"\n  decor-brb>\n  <ng-content></ng-content>\n  <fieldset *ngIf=\"isOutlinedExterior\"\n    dcr-br\n    class=\"glnfr-fieldset\"\n    aria-hidden=\"true\">\n    <legend *ngIf=\"!noLabel\"\n      class=\"glnfr-legend\">\n      <span lgn>{{ label }}</span><span *ngIf=\"isRequired\">{{ (!!label ? '&nbsp;' : '') + '*' }}\n      </span>\n    </legend>\n  </fieldset>\n</div>", styles: ["@charset \"UTF-8\";gln-frame{--glnfr--default-h: var(--glncl-default-h, var(--gln-default-h));--glnfr--default-s: var(--glncl-default-s, var(--gln-default-s));--glnfr--primary-h: var(--glncl-primary-h, var(--gln-primary-h));--glnfr--primary-s: var(--glncl-primary-s, var(--gln-primary-s));--glnfr--danger-h: var(--glncl-danger-h, var(--gln-danger-h));--glnfr--danger-s: var(--glncl-danger-s, var(--gln-danger-s));background-color:transparent;border:0;display:flex;line-height:1.4375em;margin:0;min-width:0;padding:0;position:relative;vertical-align:top;--def-o-lgn-pd: .3em;border-radius:var(--glnfr-br-rd, var(--glnfrs-br-rd, var(--def-br-rd)));--glnfr--lb-cl-def: hsl(var(--glnfr---def-h), var(--glnfr---def-s), 40%);--glnfr--br-cl-def: hsl(var(--glnfr---def-h), var(--glnfr---def-s), 45%);--glnfr--bg-cl-def: hsl(var(--glnfr---def-h), var(--glnfr---def-s), 97%);--glnfr--bf-cl-def: hsl(var(--glnfr---def-h), var(--glnfr---def-s), 45%);--glnfr--lb-cl-hov: hsl(var(--glnfr---hov-h), var(--glnfr---hov-s), 35%);--glnfr--br-cl-hov: hsl(var(--glnfr---hov-h), var(--glnfr---hov-s), 40%);--glnfr--bg-cl-hov: hsl(var(--glnfr---hov-h), var(--glnfr---hov-s), 93%);--glnfr--bf-cl-hov: hsl(var(--glnfr---hov-h), var(--glnfr---hov-s), 40%);--glnfr--lb-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 45%);--glnfr--br-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 50%);--glnfr--bg-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 95%);--glnfr--bf-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 40%);--glnfr--af-cl-foc: hsl(var(--glnfr---foc-h), var(--glnfr---foc-s), 50%);--glnfr--lb-cl-dis: hsl(var(--glnfr---dis-h), var(--glnfr---dis-s), 50%);--glnfr--br-cl-dis: hsl(var(--glnfr---dis-h), var(--glnfr---dis-s), 60%);--glnfr--bg-cl-dis: hsl(var(--glnfr---dis-h), var(--glnfr---dis-s), 92%);--glnfr--bf-cl-dis: hsl(var(--glnfr---dis-h), var(--glnfr---dis-s), 60%);--glnfr-dcr-bb-aft-wd: 2px;--glnfr-dcr-bb-bef-wd: 2px;--glnfr-hov-dcr-br-wd: 2px;--glnfr-foc-dcr-br-wd: 2px}gln-frame[ext-o]{--def-br-rd: .35em;--def-lb-pd-tp: 1.03125em;--def-lb-pd-bt: 1.03125em;--def-lb-pd-lf: .875em;--def-lb-pd-rg: .875em;--def-lb-mx-wd: 2.905em;--def-lb-trn-y: -.53875em;--def-lb-trn2-y: 1.03125em}gln-frame[ext-u]{--def-br-rd: .35em .35em 0px 0px;--def-lb-pd-tp: 1.546875em;--def-lb-pd-bt: .515625em;--def-lb-pd-lf: .75em;--def-lb-pd-rg: .75em;--def-lb-mx-wd: 2.49em;--def-lb-trn-y: .379375em;--def-lb-trn2-y: 1.03125em}gln-frame[ext-s]{--def-lb-pd-tp: 1.546875em;--def-lb-pd-bt: .515625em;--def-lb-pd-lf: 0;--def-lb-pd-rg: 0;--def-lb-mx-wd: 0;--def-lb-trn-y: .32em;--def-lb-trn2-y: 1.546875em}gln-frame:not([noAnm]){--glnfr-trn-drt-200: .2s;--glnfr-trn-drt-100: .1s;--glnfr-trn-drt-50: 50ms}gln-frame label{display:flex;left:0;overflow:hidden;padding:0;pointer-events:none;position:absolute;-webkit-user-select:none;user-select:none;text-overflow:ellipsis;-webkit-text-size-adjust:100%;text-size-adjust:100%;top:0;transform-origin:top left;transition:color var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms,transform var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms,max-width var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms;white-space:nowrap;z-index:1}gln-frame label>span[lbl]{overflow:hidden;text-overflow:ellipsis}gln-frame[shr] label,gln-frame:focus-within label,gln-frame[foc] label,gln-frame[fil] label{max-width:calc(133% - var(--glnfr-lb-pd-shr, var(--glnfre-pd-shr, var(--def-lb-mx-wd))));transform:translate(var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf))),var(--glnfr-lb-trn-y, var(--glnfre-trn-y, var(--def-lb-trn-y)))) scale(.75);pointer-events:auto}gln-frame:not([shr]):not(:focus-within):not([foc]):not([fil]) label{max-width:calc(100% - var(--glnfro-pd-lf, var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf)))) - var(--glnfro-pd-rg, var(--glnfr-lb-pd-rg, var(--glnfrs-pd-rg, var(--def-lb-pd-rg)))));transform:translate(var(--glnfro-pd-lf, var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf)))),var(--glnfr-lb-trn2-y, var(--glnfre-trn2-y, var(--def-lb-trn2-y)))) scale(1)}gln-frame:not([dis]):not([err]){--glnfr---def-h: var(--glnfr--primary-h);--glnfr---def-s: var(--glnfr--primary-s);--glnfr---hov-h: var(--glnfr--primary-h);--glnfr---hov-s: var(--glnfr--primary-s);--glnfr---foc-h: var(--glnfr--primary-h);--glnfr---foc-s: var(--glnfr--primary-s)}gln-frame:not([dis])[err]{--glnfr---def-h: var(--glnfr--danger-h);--glnfr---def-s: var(--glnfr--danger-s);--glnfr---hov-h: var(--glnfr--danger-h);--glnfr---hov-s: var(--glnfr--danger-s);--glnfr---foc-h: var(--glnfr--danger-h);--glnfr---foc-s: var(--glnfr--danger-s)}gln-frame[dis]{--glnfr---dis-h: var(--glnfr--default-h);--glnfr---dis-s: var(--glnfr--default-s)}gln-frame:not([dis]){--glnfr--dcr-bb-aft-cl: var(--glnfr-foc-af-cl, var(--glnfr--af-cl-foc))}gln-frame:not([dis]):not(:hover):not(:focus-within):not([foc]){--glnfr--label-cl: var(--glnfr-def-lb-cl, var(--glnfr--lb-cl-def));--glnfr--dcr-br-cl: var(--glnfr-def-br-cl, var(--glnfr--br-cl-def));--glnfr--dcr-bg-cl: var(--glnfr-def-bg-cl, var(--glnfr--bg-cl-def));--glnfr--dcr-bb-bef-cl: var(--glnfr-def-bf-cl, var(--glnfr--bf-cl-def))}gln-frame:not([dis]):hover:not(:focus-within):not([foc]){--glnfr--label-cl: var(--glnfr-hov-lb-cl, var(--glnfr--lb-cl-hov));--glnfr--dcr-br-cl: var(--glnfr-hov-br-cl, var(--glnfr--br-cl-hov));--glnfr--dcr-bg-cl: var(--glnfr-hov-bg-cl, var(--glnfr--bg-cl-hov));--glnfr--dcr-bb-bef-cl: var(--glnfr-hov-bf-cl, var(--glnfr--bf-cl-hov))}gln-frame:not([dis]):focus-within,gln-frame:not([dis])[foc]{--glnfr--label-cl: var(--glnfr-foc-lb-cl, var(--glnfr--lb-cl-foc));--glnfr--dcr-br-cl: var(--glnfr-foc-br-cl, var(--glnfr--br-cl-foc));--glnfr--dcr-bg-cl: var(--glnfr-foc-bg-cl, var(--glnfr--bg-cl-foc));--glnfr--dcr-bb-bef-cl: var(--glnfr-foc-bf-cl, var(--glnfr--bf-cl-foc))}gln-frame[dis]{--glnfr--label-cl: var(--glnfr-dis-lb-cl, var(--glnfr--lb-cl-dis));--glnfr--dcr-br-cl: var(--glnfr-dis-br-cl, var(--glnfr--br-cl-dis));--glnfr--dcr-bg-cl: var(--glnfr-dis-bg-cl, var(--glnfr--bg-cl-dis));--glnfr--dcr-bb-bef-cl: var(--glnfr-dis-bf-cl, var(--glnfr--bf-cl-dis))}gln-frame>label{color:var(--glnfr--label-cl)}gln-frame>div{align-items:center;box-sizing:border-box;border-radius:inherit;display:flex;flex-wrap:nowrap;width:100%}gln-frame>div>[glnfr-elem]{flex-grow:1}gln-frame>div>[glnfr-orn-lf],gln-frame>div>[glnfr-orn-rg]{flex-shrink:0}gln-frame[dis]>div{color:var(--glnfr--label-cl)}gln-frame>[dcr-bg]{transition:background-color var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms;background-color:var(--glnfr--dcr-bg-cl)}gln-frame>[dcr-bb]:before{border-bottom-color:var(--glnfr--dcr-bb-bef-cl);border-bottom-width:1px;border-bottom-style:solid;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;left:0;bottom:0;content:\"\\a0\";position:absolute;right:0;transition:border-bottom-color var(--glnfr-trn-drt-200, 0ms) cubic-bezier(.4,0,.2,1) 0ms;pointer-events:none}gln-frame>[dcr-bb]:after{border-bottom-color:var(--glnfr--dcr-bb-aft-cl);border-bottom-width:var(--glnfr-dcr-bb-aft-wd, 1px);border-bottom-style:solid;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;left:0;bottom:0;content:\"\";position:absolute;right:0;transform:scaleX(0);transition:transform var(--glnfr-trn-drt-200, 0ms) cubic-bezier(0,0,.2,1) 0ms;pointer-events:none}gln-frame[dis]>div[dcr-bb]:before{border-bottom-style:dotted}gln-frame[ext-s]:not([dis]):hover:not(:focus-within):not([foc])>div[dcr-bb]:before{border-bottom-width:var(--glnfr-dcr-bb-bef-wd, 1px)}gln-frame:not([dis]):focus-within>div[dcr-bb]:after,gln-frame:not([dis])[foc]>div[dcr-bb]:after{transform:scale(1) translate(0)}gln-frame fieldset{text-align:left;position:absolute;bottom:0;right:0;top:0;left:0;margin:0;padding-bottom:0;padding-left:calc(var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf))) - var(--glnfr-o-lgn-pd, var(--def-o-lgn-pd)) - var(--glnfr--pg-lf-delta, 0px));padding-right:calc(var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf))) - var(--glnfr-o-lgn-pd, var(--def-o-lgn-pd)));padding-top:0;pointer-events:none;border-radius:inherit;border-width:1px;border-style:solid;overflow:hidden;min-width:0%;box-sizing:inherit}gln-frame:not([dis]):hover:not(:focus-within):not([foc]) fieldset{border-width:var(--glnfr-hov-dcr-br-wd, 1px);--glnfr--pg-lf-delta: calc(var(--glnfr-hov-dcr-br-wd, 1px) - 1px)}gln-frame:not([dis]):focus-within fieldset,gln-frame:not([dis])[foc] fieldset{border-width:var(--glnfr-foc-dcr-br-wd, 1px);--glnfr--pg-lf-delta: calc(var(--glnfr-foc-dcr-br-wd, 1px) - 1px)}gln-frame [dcr-br]{border-color:var(--glnfr--dcr-br-cl)}gln-frame legend{box-sizing:border-box;display:flex;height:1px;padding:0;visibility:hidden;white-space:nowrap;width:auto}gln-frame legend>span{height:inherit;font-size:.75em}gln-frame legend>span[lgn]{overflow:hidden;text-overflow:ellipsis}gln-frame[shr] legend,gln-frame:focus-within legend,gln-frame[foc] legend,gln-frame[fil] legend{max-width:100%;transition:max-width var(--glnfr-trn-drt-100, 0ms) cubic-bezier(0,0,.2,1) var(--glnfr-trn-drt-50, 0ms)}gln-frame[shr][ind] legend,gln-frame:focus-within[ind] legend,gln-frame[foc][ind] legend,gln-frame[fil][ind] legend{padding:0 calc(var(--glnfr-o-lgn-pd, var(--def-o-lgn-pd)) - 1px)}gln-frame:not([shr]):not([fil]):not(:focus-within):not([foc]) legend{max-width:.01px;transition:max-width var(--glnfr-trn-drt-50, 0ms) cubic-bezier(0,0,.2,1) 0ms}gln-frame>div>[glnfr-pd-ver],gln-frame>div>[glnfr-mr-ver]{line-height:inherit;align-self:baseline}gln-frame>div>[glnfr-pd-ver]{padding-top:var(--glnfr-lb-pd-tp, var(--glnfrs-pd-tp, var(--def-lb-pd-tp)));padding-bottom:var(--glnfr-lb-pd-bt, var(--glnfrs-pd-bt, var(--def-lb-pd-bt)))}gln-frame>div>[glnfr-mr-ver]{margin-top:var(--glnfr-lb-pd-tp, var(--glnfrs-pd-tp, var(--def-lb-pd-tp)));margin-bottom:var(--glnfr-lb-pd-bt, var(--glnfrs-pd-bt, var(--def-lb-pd-bt)))}gln-frame>div>span[glnfr-orn-lf],gln-frame>div>span[glnfr-orn-rg]{max-height:inherit;display:inline-flex;align-items:center}gln-frame>div>span[glnfr-orn-rg]{order:1}gln-frame>div>span[glnfr-orn-lf]:empty~[glnfr-pd-hor]{padding-left:var(--glnfr-lb-pd-lf, var(--glnfrs-pd-lf, var(--def-lb-pd-lf)))}gln-frame>div>span[glnfr-orn-rg]:empty~[glnfr-pd-hor]{padding-right:var(--glnfr-lb-pd-rg, var(--glnfrs-pd-rg, var(--def-lb-pd-rg)))}gln-frame span[glnfr-orn-lf=center],gln-frame span[glnfr-orn-rg=center]{align-self:center}gln-frame span[glnfr-orn-lf=flex-start],gln-frame span[glnfr-orn-rg=flex-start]{align-self:flex-start}gln-frame span[glnfr-orn-lf=flex-end],gln-frame span[glnfr-orn-rg=flex-end]{align-self:flex-end}gln-frame span[glnfr-orn-lf=baseline],gln-frame span[glnfr-orn-rg=baseline]{align-self:baseline}gln-frame span[glnfr-orn-lf=stretch],gln-frame span[glnfr-orn-rg=stretch]{align-self:stretch}gln-frame[ext-o]>div>span[glnfr-orn-lf=default],gln-frame[ext-o]>div>span[glnfr-orn-rg=default]{align-self:center}gln-frame[ext-u]>div>span[glnfr-orn-lf=default]{align-self:baseline}gln-frame[ext-u]>div>span[glnfr-orn-rg=default]{align-self:center}gln-frame[ext-s]>div>span[glnfr-orn-lf=default],gln-frame[ext-s]>div>span[glnfr-orn-rg=default]{align-self:baseline}gln-frame[ext-u]>div>span[glnfr-orn-lf]>.glnfr-ornam,gln-frame[ext-s]>div>span[glnfr-orn-lf]>.glnfr-ornam,gln-frame[ext-s]>div>span[glnfr-orn-rg]>.glnfr-ornam{display:inline-block;margin-bottom:var(--glnfr-lb-pd-bt, var(--glnfrs-pd-bt, var(--def-lb-pd-bt)))}\n"] }]
        }], ctorParameters: function () { return [{ type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [GLN_FRAME_CONFIG]
                }] }, { type: i0.ElementRef }, { type: i0.Renderer2 }]; }, propDecorators: { config: [{
                type: Input
            }], exterior: [{
                type: Input
            }], isDisabled: [{
                type: Input
            }], isError: [{
                type: Input
            }], isFilled: [{
                type: Input
            }], isLabelShrink: [{
                type: Input
            }], isNoAnimation: [{
                type: Input
            }], isNoLabel: [{
                type: Input
            }], isRequired: [{
                type: Input
            }], label: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xuLWZyYW1lLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2dlbGVuaXVtLXVpL3NyYy9saWIvZ2xuLWZyYW1lL2dsbi1mcmFtZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9nZWxlbml1bS11aS9zcmMvbGliL2dsbi1mcmFtZS9nbG4tZnJhbWUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLHVCQUF1QixFQUN2QixTQUFTLEVBRVQsTUFBTSxFQUNOLGNBQWMsRUFDZCxLQUFLLEVBR0wsUUFBUSxFQUdSLGlCQUFpQixHQUNsQixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUN4RixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7OztBQUl4RCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLGNBQWMsQ0FBaUIsa0JBQWtCLENBQUMsQ0FBQztBQVV2RixNQUFNLE9BQU8saUJBQWlCO0lBc0M1QixZQUNnRCxVQUFpQyxFQUN4RSxPQUFnQyxFQUMvQixRQUFtQjtRQUZtQixlQUFVLEdBQVYsVUFBVSxDQUF1QjtRQUN4RSxZQUFPLEdBQVAsT0FBTyxDQUF5QjtRQUMvQixhQUFRLEdBQVIsUUFBUSxDQUFXO1FBL0J0QixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBc0JqQixlQUFVLEdBQTBCLElBQUksQ0FBQztRQUN6QyxrQkFBYSxHQUE0QixJQUFJLENBQUM7UUFDOUMsZ0JBQVcsR0FBbUIsSUFBSSxDQUFDO1FBQ25DLGdCQUFXLEdBQW1CLElBQUksQ0FBQztRQUNuQyxZQUFPLEdBQW1CLElBQUksQ0FBQztRQU9wQyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDbEMsWUFBWSxD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LEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JFLENBQUM7OzhHQXBJVSxpQkFBaUIsa0JBdUNOLGdCQUFnQjtrR0F2QzNCLGlCQUFpQix3VkM5QjlCLHVyQkFvQk07MkZEVU8saUJBQWlCO2tCQVI3QixTQUFTOytCQUNFLFdBQVcsWUFDWCxVQUFVLGlCQUdMLGlCQUFpQixDQUFDLElBQUksbUJBQ3BCLHVCQUF1QixDQUFDLE1BQU07OzBCQXlDNUMsUUFBUTs7MEJBQUksTUFBTTsyQkFBQyxnQkFBZ0I7NkZBckMvQixNQUFNO3NCQURaLEtBQUs7Z0JBR0MsUUFBUTtzQkFEZCxLQUFLO2dCQUdDLFVBQVU7c0JBRGhCLEtBQUs7Z0JBR0MsT0FBTztzQkFEYixLQUFLO2dCQUdDLFFBQVE7c0JBRGQsS0FBSztnQkFHQyxhQUFhO3NCQURuQixLQUFLO2dCQUdDLGFBQWE7c0JBRG5CLEtBQUs7Z0JBR0MsU0FBUztzQkFEZixLQUFLO2dCQUdDLFVBQVU7c0JBRGhCLEtBQUs7Z0JBR0MsS0FBSztzQkFEWCxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgSW5qZWN0LFxuICBJbmplY3Rpb25Ub2tlbixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25Jbml0LFxuICBPcHRpb25hbCxcbiAgUmVuZGVyZXIyLFxuICBTaW1wbGVDaGFuZ2VzLFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEdsbkZyYW1lRXh0ZXJpb3IsIEdsbkZyYW1lRXh0ZXJpb3JVdGlsIH0gZnJvbSAnLi9nbG4tZnJhbWUtZXh0ZXJpb3IuaW50ZXJmYWNlJztcbmltcG9ydCB7IEh0bWxFbGVtVXRpbCB9IGZyb20gJy4uL191dGlscy9odG1sLWVsZW0udXRpbCc7XG5cbmltcG9ydCB7IEdsbkZyYW1lQ29uZmlnIH0gZnJvbSAnLi9nbG4tZnJhbWUtY29uZmlnLmludGVyZmFjZSc7XG5cbmV4cG9ydCBjb25zdCBHTE5fRlJBTUVfQ09ORklHID0gbmV3IEluamVjdGlvblRva2VuPEdsbkZyYW1lQ29uZmlnPignR0xOX0ZSQU1FX0NPTkZJRycpO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdnbG4tZnJhbWUnLFxuICBleHBvcnRBczogJ2dsbkZyYW1lJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2dsbi1mcmFtZS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2dsbi1mcmFtZS5jb21wb25lbnQuc2NzcyddLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgR2xuRnJhbWVDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCB7XG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBjb25maWc6IEdsbkZyYW1lQ29uZmlnIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgQElucHV0KClcbiAgcHVibGljIGV4dGVyaW9yOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkOyAvLyBHbG5GcmFtZUV4dGVyaW9yVHlwZVxuICBASW5wdXQoKVxuICBwdWJsaWMgaXNEaXNhYmxlZDogYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBpc0Vycm9yOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgQElucHV0KClcbiAgcHVibGljIGlzRmlsbGVkID0gZmFsc2U7XG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBpc0xhYmVsU2hyaW5rOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgQElucHV0KClcbiAgcHVibGljIGlzTm9BbmltYXRpb246IGJvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkO1xuICBASW5wdXQoKVxuICBwdWJsaWMgaXNOb0xhYmVsOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgQElucHV0KClcbiAgcHVibGljIGlzUmVxdWlyZWQ6IGJvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkO1xuICBASW5wdXQoKVxuICBwdWJsaWMgbGFiZWw6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbiAgcHVibGljIGdldCBpc091dGxpbmVkRXh0ZXJpb3IoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIEdsbkZyYW1lRXh0ZXJpb3Iub3V0bGluZWQgPT09IHRoaXMuZXh0ZXJpb3I7XG4gIH1cbiAgcHVibGljIGdldCBpc1VuZGVybGluZUV4dGVyaW9yKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBHbG5GcmFtZUV4dGVyaW9yLnVuZGVybGluZSA9PT0gdGhpcy5leHRlcmlvcjtcbiAgfVxuICBwdWJsaWMgZ2V0IGlzU3RhbmRhcmRFeHRlcmlvcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gR2xuRnJhbWVFeHRlcmlvci5zdGFuZGFyZCA9PT0gdGhpcy5leHRlcmlvcjtcbiAgfVxuXG4gIHB1YmxpYyBjdXJyQ29uZmlnOiBHbG5GcmFtZUNvbmZpZyB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgZnJhbWVFeHRlcmlvcjogR2xuRnJhbWVFeHRlcmlvciB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgbGFiZWxTaHJpbms6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcbiAgcHVibGljIG5vQW5pbWF0aW9uOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBub0xhYmVsOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgQE9wdGlvbmFsKCkgQEluamVjdChHTE5fRlJBTUVfQ09ORklHKSBwcml2YXRlIHJvb3RDb25maWc6IEdsbkZyYW1lQ29uZmlnIHwgbnVsbCxcbiAgICBwdWJsaWMgaG9zdFJlZjogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyXG4gICkge1xuICAgIHRoaXMuY3VyckNvbmZpZyA9IHRoaXMucm9vdENvbmZpZztcbiAgICBIdG1sRWxlbVV0aWwuc2V0Q2xhc3ModGhpcy5yZW5kZXJlciwgdGhpcy5ob3N0UmVmLCAnZ2xuLWZyYW1lJywgdHJ1ZSk7XG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgIGlmIChjaGFuZ2VzWydjb25maWcnXSkge1xuICAgICAgdGhpcy5jdXJyQ29uZmlnID0geyAuLi50aGlzLnJvb3RDb25maWcsIC4uLnRoaXMuY29uZmlnIH07XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzWydleHRlcmlvciddKSB7XG4gICAgICB0aGlzLmZyYW1lRXh0ZXJpb3IgPSBHbG5GcmFtZUV4dGVyaW9yVXRpbC5jb252ZXJ0KHRoaXMuZXh0ZXJpb3IgfHwgbnVsbCk7XG4gICAgICB0aGlzLnNldHRpbmdFeHRlcmlvcih0aGlzLnJlbmRlcmVyLCB0aGlzLmhvc3RSZWYsIHRoaXMuZnJhbWVFeHRlcmlvcik7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzWydpc0Rpc2FibGVkJ10pIHtcbiAgICAgIEh0bWxFbGVtVXRpbC5zZXRDbGFzcyh0aGlzLnJlbmRlcmVyLCB0aGlzLmhvc3RSZWYsICdnbG4tZGlzYWJsZWQnLCAhIXRoaXMuaXNEaXNhYmxlZCk7XG4gICAgICBIdG1sRWxlbVV0aWwuc2V0QXR0cih0aGlzLnJlbmRlcmVyLCB0aGlzLmhvc3RSZWYsICdkaXMnLCB0aGlzLmlzRGlzYWJsZWQgPyAnJyA6IG51bGwpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snaXNFcnJvciddKSB7XG4gICAgICBIdG1sRWxlbVV0aWwuc2V0Q2xhc3ModGhpcy5yZW5kZXJlciwgdGhpcy5ob3N0UmVmLCAnZ2xuLWVycm9yJywgISF0aGlzLmlzRXJyb3IpO1xuICAgICAgSHRtbEVsZW1VdGlsLnNldEF0dHIodGhpcy5yZW5kZXJlciwgdGhpcy5ob3N0UmVmLCAnZXJyJywgdGhpcy5pc0Vycm9yID8gJycgOiBudWxsKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ2lzRmlsbGVkJ10pIHtcbiAgICAgIEh0bWxFbGVtVXRpbC5zZXRDbGFzcyh0aGlzLnJlbmRlcmVyLCB0aGlzLmhvc3RSZWYsICdnbG5mci1maWxsZWQnLCB0aGlzLmlzRmlsbGVkKTtcbiAgICAgIEh0bWxFbGVtVXRpbC5zZXRBdHRyKHRoaXMucmVuZGVyZXIsIHRoaXMuaG9zdFJlZiwgJ2ZpbCcsIHRoaXMuaXNGaWxsZWQgPyAnJyA6IG51bGwpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snaXNMYWJlbFNocmluayddIHx8IChjaGFuZ2VzWydjb25maWcnXSAmJiB0aGlzLmlzTGFiZWxTaHJpbmsgPT0gbnVsbCkpIHtcbiAgICAgIHRoaXMubGFiZWxTaHJpbmsgPSB0aGlzLmlzTGFiZWxTaHJpbmsgIT0gbnVsbCA/IHRoaXMuaXNMYWJlbFNocmluayA6ICEhdGhpcy5jdXJyQ29uZmlnPy5pc0xhYmVsU2hyaW5rO1xuICAgICAgdGhpcy5zZXR0aW5nTGFiZWxTaHJpbmsodGhpcy5yZW5kZXJlciwgdGhpcy5ob3N0UmVmLCB0aGlzLmxhYmVsU2hyaW5rKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ2lzTm9BbmltYXRpb24nXSB8fCAoY2hhbmdlc1snY29uZmlnJ10gJiYgdGhpcy5pc05vQW5pbWF0aW9uID09IG51bGwpKSB7XG4gICAgICB0aGlzLm5vQW5pbWF0aW9uID0gdGhpcy5pc05vQW5pbWF0aW9uICE9IG51bGwgPyB0aGlzLmlzTm9BbmltYXRpb24gOiAhIXRoaXMuY3VyckNvbmZpZz8uaXNOb0FuaW1hdGlvbjtcbiAgICAgIHRoaXMuc2V0dGluZ05vQW5pbWF0aW9uKHRoaXMucmVuZGVyZXIsIHRoaXMuaG9zdFJlZiwgdGhpcy5ub0FuaW1hdGlvbik7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzWydpc05vTGFiZWwnXSB8fCAoY2hhbmdlc1snY29uZmlnJ10gJiYgdGhpcy5pc05vTGFiZWwgPT0gbnVsbCkpIHtcbiAgICAgIHRoaXMubm9MYWJlbCA9IHRoaXMuaXNOb0xhYmVsICE9IG51bGwgPyB0aGlzLmlzTm9MYWJlbCA6ICEhdGhpcy5jdXJyQ29uZmlnPy5pc05vTGFiZWw7XG4gICAgICB0aGlzLnNldHRpbmdOb0xhYmVsKHRoaXMucmVuZGVyZXIsIHRoaXMuaG9zdFJlZiwgdGhpcy5ub0xhYmVsKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ2xhYmVsJ10gfHwgY2hhbmdlc1snaXNSZXF1aXJlZCddKSB7XG4gICAgICBjb25zdCBpc0luZGVudCA9ICEhdGhpcy5sYWJlbCB8fCB0aGlzLmlzUmVxdWlyZWQ7XG4gICAgICBIdG1sRWxlbVV0aWwuc2V0Q2xhc3ModGhpcy5yZW5kZXJlciwgdGhpcy5ob3N0UmVmLCAnZ2xuZnItbGduLWluZGVudCcsICEhaXNJbmRlbnQpO1xuICAgICAgSHRtbEVsZW1VdGlsLnNldEF0dHIodGhpcy5yZW5kZXJlciwgdGhpcy5ob3N0UmVmLCAnaW5kJywgaXNJbmRlbnQgPyAnJyA6IG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sYWJlbFNocmluayA9PSBudWxsKSB7XG4gICAgICB0aGlzLmxhYmVsU2hyaW5rID0gdGhpcy5pc0xhYmVsU2hyaW5rICE9IG51bGwgPyB0aGlzLmlzTGFiZWxTaHJpbmsgOiAhIXRoaXMuY3VyckNvbmZpZz8uaXNMYWJlbFNocmluaztcbiAgICAgIHRoaXMuc2V0dGluZ0xhYmVsU2hyaW5rKHRoaXMucmVuZGVyZXIsIHRoaXMuaG9zdFJlZiwgdGhpcy5sYWJlbFNocmluayk7XG4gICAgfVxuICAgIGlmICh0aGlzLm5vQW5pbWF0aW9uID09IG51bGwpIHtcbiAgICAgIHRoaXMubm9BbmltYXRpb24gPSB0aGlzLmlzTm9BbmltYXRpb24gIT0gbnVsbCA/IHRoaXMuaXNOb0FuaW1hdGlvbiA6ICEhdGhpcy5jdXJyQ29uZmlnPy5pc05vQW5pbWF0aW9uO1xuICAgICAgdGhpcy5zZXR0aW5nTm9BbmltYXRpb24odGhpcy5yZW5kZXJlciwgdGhpcy5ob3N0UmVmLCB0aGlzLm5vQW5pbWF0aW9uKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubm9MYWJlbCA9PSBudWxsKSB7XG4gICAgICB0aGlzLm5vTGFiZWwgPSB0aGlzLmlzTm9MYWJlbCAhPSBudWxsID8gdGhpcy5pc05vTGFiZWwgOiAhIXRoaXMuY3VyckNvbmZpZz8uaXNOb0xhYmVsO1xuICAgICAgdGhpcy5zZXR0aW5nTm9MYWJlbCh0aGlzLnJlbmRlcmVyLCB0aGlzLmhvc3RSZWYsIHRoaXMubm9MYWJlbCk7XG4gICAgfVxuICB9XG5cbiAgLy8gKiogUHVibGljIEFQSSAqKlxuXG4gIC8vICoqIFByaXZhdGUgQVBJICoqXG5cbiAgcHJpdmF0ZSBzZXR0aW5nRXh0ZXJpb3IocmVuZGVyZXI6IFJlbmRlcmVyMiwgZWxlbTogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sIGV4dGVyaW9yOiBHbG5GcmFtZUV4dGVyaW9yIHwgbnVsbCk6IHZvaWQge1xuICAgIEh0bWxFbGVtVXRpbC5zZXRDbGFzcyhyZW5kZXJlciwgZWxlbSwgJ2dsbmZyLW91dGxpbmVkJywgR2xuRnJhbWVFeHRlcmlvclV0aWwuaXNPdXRsaW5lZChleHRlcmlvcikpO1xuICAgIEh0bWxFbGVtVXRpbC5zZXRBdHRyKHJlbmRlcmVyLCBlbGVtLCAnZXh0LW8nLCBHbG5GcmFtZUV4dGVyaW9yVXRpbC5pc091dGxpbmVkKGV4dGVyaW9yKSA/ICcnIDogbnVsbCk7XG5cbiAgICBIdG1sRWxlbVV0aWwuc2V0Q2xhc3MocmVuZGVyZXIsIGVsZW0sICdnbG5mci11bmRlcmxpbmUnLCBHbG5GcmFtZUV4dGVyaW9yVXRpbC5pc1VuZGVybGluZShleHRlcmlvcikpO1xuICAgIEh0bWxFbGVtVXRpbC5zZXRBdHRyKHJlbmRlcmVyLCBlbGVtLCAnZXh0LXUnLCBHbG5GcmFtZUV4dGVyaW9yVXRpbC5pc1VuZGVybGluZShleHRlcmlvcikgPyAnJyA6IG51bGwpO1xuXG4gICAgSHRtbEVsZW1VdGlsLnNldENsYXNzKHJlbmRlcmVyLCBlbGVtLCAnZ2xuZnItc3RhbmRhcmQnLCBHbG5GcmFtZUV4dGVyaW9yVXRpbC5pc1N0YW5kYXJkKGV4dGVyaW9yKSk7XG4gICAgSHRtbEVsZW1VdGlsLnNldEF0dHIocmVuZGVyZXIsIGVsZW0sICdleHQtcycsIEdsbkZyYW1lRXh0ZXJpb3JVdGlsLmlzU3RhbmRhcmQoZXh0ZXJpb3IpID8gJycgOiBudWxsKTtcblxuICAgIGNvbnN0IGlzQm9yZGVyID0gR2xuRnJhbWVFeHRlcmlvclV0aWwuaXNTdGFuZGFyZChleHRlcmlvcikgfHwgR2xuRnJhbWVFeHRlcmlvclV0aWwuaXNVbmRlcmxpbmUoZXh0ZXJpb3IpO1xuICAgIEh0bWxFbGVtVXRpbC5zZXRDbGFzcyhyZW5kZXJlciwgZWxlbSwgJ2dsbmZyLWJvdHRvbS1mcmFtZScsIGlzQm9yZGVyKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dGluZ0xhYmVsU2hyaW5rKHJlbmRlcmVyOiBSZW5kZXJlcjIsIGVsZW06IEVsZW1lbnRSZWY8SFRNTEVsZW1lbnQ+LCBpc0xhYmVsU2hyaW5rOiBib29sZWFuKTogdm9pZCB7XG4gICAgSHRtbEVsZW1VdGlsLnNldENsYXNzKHJlbmRlcmVyLCBlbGVtLCAnZ2xuZnItc2hyaW5rJywgaXNMYWJlbFNocmluayk7XG4gICAgSHRtbEVsZW1VdGlsLnNldEF0dHIocmVuZGVyZXIsIGVsZW0sICdzaHInLCBpc0xhYmVsU2hyaW5rID8gJycgOiBudWxsKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dGluZ05vQW5pbWF0aW9uKHJlbmRlcmVyOiBSZW5kZXJlcjIsIGVsZW06IEVsZW1lbnRSZWY8SFRNTEVsZW1lbnQ+LCBpc05vQW5pbWF0aW9uOiBib29sZWFuKTogdm9pZCB7XG4gICAgSHRtbEVsZW1VdGlsLnNldENsYXNzKHJlbmRlcmVyLCBlbGVtLCAnZ2xuLW5vLWFuaW1hdGlvbicsIGlzTm9BbmltYXRpb24pO1xuICAgIEh0bWxFbGVtVXRpbC5zZXRBdHRyKHJlbmRlcmVyLCBlbGVtLCAnbm9Bbm0nLCBpc05vQW5pbWF0aW9uID8gJycgOiBudWxsKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dGluZ05vTGFiZWwocmVuZGVyZXI6IFJlbmRlcmVyMiwgZWxlbTogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sIG5vTGFiZWw6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBIdG1sRWxlbVV0aWwuc2V0Q2xhc3MocmVuZGVyZXIsIGVsZW0sICdnbG5mci1uby1sYWJlbCcsIG5vTGFiZWwpO1xuICAgIEh0bWxFbGVtVXRpbC5zZXRBdHRyKHJlbmRlcmVyLCBlbGVtLCAnbm8tbGInLCBub0xhYmVsID8gJycgOiBudWxsKTtcbiAgfVxufVxuIiwiPGxhYmVsICpuZ0lmPVwiIW5vTGFiZWxcIlxuICBjbGFzcz1cImdsbmZyLWxhYmVsXCI+XG4gIDxzcGFuIGxibD57eyBsYWJlbCB9fTwvc3Bhbj48c3BhbiAqbmdJZj1cImlzUmVxdWlyZWRcIj57eyAoISFsYWJlbCA/ICcmbmJzcDsnIDogJycpICsgJyonIH19XG4gIDwvc3Bhbj5cbjwvbGFiZWw+XG48ZGl2IGNsYXNzPVwiZ2xuZnItYm9yZGVyXCJcbiAgW2F0dHIuZGNyLWJnXT1cImlzVW5kZXJsaW5lRXh0ZXJpb3IgPyAnJyA6IG51bGxcIlxuICBbYXR0ci5kY3ItYmJdPVwiaXNVbmRlcmxpbmVFeHRlcmlvciB8fCBpc1N0YW5kYXJkRXh0ZXJpb3I/ICcnOiBudWxsXCJcbiAgZGVjb3ItYnJiPlxuICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gIDxmaWVsZHNldCAqbmdJZj1cImlzT3V0bGluZWRFeHRlcmlvclwiXG4gICAgZGNyLWJyXG4gICAgY2xhc3M9XCJnbG5mci1maWVsZHNldFwiXG4gICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgPGxlZ2VuZCAqbmdJZj1cIiFub0xhYmVsXCJcbiAgICAgIGNsYXNzPVwiZ2xuZnItbGVnZW5kXCI+XG4gICAgICA8c3BhbiBsZ24+e3sgbGFiZWwgfX08L3NwYW4+PHNwYW4gKm5nSWY9XCJpc1JlcXVpcmVkXCI+e3sgKCEhbGFiZWwgPyAnJm5ic3A7JyA6ICcnKSArICcqJyB9fVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGVnZW5kPlxuICA8L2ZpZWxkc2V0PlxuPC9kaXY+Il19